<div class="add-todo-container">
  <form (ngSubmit)="onSubmit()" class="add-todo-form">
    <!-- Quick Add Input -->
    <div class="quick-add-section">
      <div class="quick-add-input">
        <div class="input-icon">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
            <path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"/>
          </svg>
        </div>
        <input 
          type="text" 
          [(ngModel)]="title" 
          name="title" 
          class="main-input" 
          placeholder="Add a task"
          #titleInput>
        <button 
          type="submit" 
          class="add-btn" 
          [disabled]="!title.trim()"
          [class.active]="!!title.trim()">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
            <path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41L9 16.17z"/>
          </svg>
        </button>
      </div>
    </div>
    
    <!-- Expanded Form -->
    <div class="expanded-form" [class.visible]="showExpandedForm" *ngIf="showExpandedForm">
      <div class="form-row">
        <div class="form-group">
          <label for="task-desc" class="form-label">
            <svg width="14" height="14" viewBox="0 0 24 24" fill="currentColor">
              <path d="M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 2 2h16c1.1 0 2-.9 2-2V8l-6-6zm4 18H6V4h7v5h5v11z"/>
            </svg>
            Description
          </label>
          <textarea 
            class="form-control description-input" 
            id="task-desc" 
            [(ngModel)]="desc" 
            name="desc"
            placeholder="Add more details..."
            rows="2">
          </textarea>
        </div>
      </div>
      
      <div class="form-row">
        <div class="form-group">
          <label for="category" class="form-label">
            <svg width="14" height="14" viewBox="0 0 24 24" fill="currentColor">
              <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
            </svg>
            Category
          </label>
          <select class="form-select" id="category" [(ngModel)]="category" name="category">
            <option *ngFor="let cat of categories" [value]="cat">
              {{cat}}
            </option>
          </select>
        </div>
        
        <div class="form-group">
          <label class="form-label">
            <svg width="14" height="14" viewBox="0 0 24 24" fill="currentColor">
              <path d="M9 11H7v2h2v-2zm4 0h-2v2h2v-2zm4 0h-2v2h2v-2zm2-7h-1V2h-2v2H8V2H6v2H5c-1.11 0-1.99.9-1.99 2L3 20c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 16H5V9h14v11z"/>
            </svg>
            Due Date
          </label>
          <div class="due-date-options">
            <button type="button" class="date-btn" [class.active]="selectedDueDate === 'today'" (click)="setDueDate('today')">
              Today
            </button>
            <button type="button" class="date-btn" [class.active]="selectedDueDate === 'tomorrow'" (click)="setDueDate('tomorrow')">
              Tomorrow
            </button>
            <button type="button" class="date-btn" [class.active]="selectedDueDate === 'week'" (click)="setDueDate('week')">
              This Week
            </button>
          </div>
        </div>
      </div>
      
      <div class="form-actions">
        <button type="submit" class="btn btn-primary" [disabled]="!title.trim()">
          <svg width="14" height="14" viewBox="0 0 24 24" fill="currentColor">
            <path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"/>
          </svg>
          Add Task
        </button>
        <button type="button" class="btn btn-secondary" (click)="cancelExpanded()">
          Cancel
        </button>
      </div>
    </div>
  </form>
  
  <!-- Quick Actions -->
  <div class="quick-actions" *ngIf="!showExpandedForm">
    <button type="button" class="quick-action-btn" (click)="toggleExpandedForm()" title="Add details">
      <svg width="14" height="14" viewBox="0 0 24 24" fill="currentColor">
        <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm5 11h-4v4h-2v-4H7v-2h4V7h2v4h4v2z"/>
      </svg>
      More details
    </button>
  </div>
</div>