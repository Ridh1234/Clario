<div class="todo-card" [class.completed]="!todo.active">
  <div class="todo-content">
    <!-- Checkbox and Title Row -->
    <div class="todo-header">
      <div class="checkbox-wrapper">
        <input 
          type="checkbox" 
          class="todo-checkbox" 
          id="todo{{i}}" 
          [checked]="!todo.active" 
          (click)="onCheckClick(todo)">
        <label for="todo{{i}}" class="checkbox-label">
          <svg class="check-icon" width="12" height="12" viewBox="0 0 24 24" fill="currentColor">
            <path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41L9 16.17z"/>
          </svg>
        </label>
      </div>
      
      <div class="todo-text-content">
        <h4 class="todo-title" [class.completed]="!todo.active">
          {{todo.title}}
        </h4>
        <p class="todo-description" [class.completed]="!todo.active" *ngIf="todo.desc">
          {{todo.desc}}
        </p>
      </div>
      
      <div class="todo-actions">
        <div class="priority-indicator" *ngIf="todo.category === 'Work'"></div>
        <button class="action-btn delete-btn" (click)="OnClick()" title="Delete task">
          <svg width="14" height="14" viewBox="0 0 24 24" fill="currentColor">
            <path d="M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"/>
          </svg>
        </button>
      </div>
    </div>
    
    <!-- Category and Status Row -->
    <div class="todo-footer">
      <div class="todo-meta">
        <span class="category-badge" [class]="'category-' + todo.category.toLowerCase()">
          <svg width="12" height="12" viewBox="0 0 24 24" fill="currentColor">
            <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z" *ngIf="todo.category === 'Work'"/>
            <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z" *ngIf="todo.category === 'Personal'"/>
            <path d="M5 13.18v4L12 21l7-3.82v-4L12 17l-7-3.82zM12 3L1 9l11 6 9-4.91V17h2V9L12 3z" *ngIf="todo.category === 'Study'"/>
            <circle cx="12" cy="12" r="10" *ngIf="!['Work', 'Personal', 'Study'].includes(todo.category)"/>
          </svg>
          {{todo.category}}
        </span>
      </div>
      
      <div class="status-info" *ngIf="!todo.active">
        <span class="completion-badge">
          <svg width="12" height="12" viewBox="0 0 24 24" fill="currentColor">
            <path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41L9 16.17z"/>
          </svg>
          Completed
        </span>
      </div>
    </div>
  </div>
  
  <!-- Hover Actions -->
  <div class="hover-actions">
    <button class="action-btn edit-btn" title="Edit task">
      <svg width="14" height="14" viewBox="0 0 24 24" fill="currentColor">
        <path d="M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"/>
      </svg>
    </button>
    <button class="action-btn star-btn" title="Mark as important">
      <svg width="14" height="14" viewBox="0 0 24 24" fill="currentColor">
        <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
      </svg>
    </button>
  </div>
</div>